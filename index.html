<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>RR Asset Management</title>

  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    html,body{height:100%}
    body{
      font-family: Arial, sans-serif;
      background:#000;
      overflow-x:hidden;
      overflow-y:auto; /* IMPORTANT: allows scroll to trigger panels */
    }

    /* ===== Background video (always visible) ===== */
    .bg{
      position:fixed; inset:0; z-index:0; overflow:hidden; background:#000;
    }
    .bg video{
      width:100%; height:100%;
      object-fit:cover; object-position:center;
    }
    /* film overlay */
    .bg::after{
      content:""; position:absolute; inset:0;
      background: radial-gradient(900px 520px at 25% 35%, rgba(0,0,0,0.06), rgba(0,0,0,0.55)),
                linear-gradient(to bottom, rgba(0,0,0,0.10), rgba(0,0,0,0.40));
      pointer-events:none;
    }

    /* ===== Intro logo (Auberry-like) ===== */
    .intro{
      position:fixed; inset:0;
      z-index:80;
      display:flex; align-items:center; justify-content:center;
      pointer-events:none;
    }
    .intro img{
      width:min(240px, 55vw);
      opacity:0;
      transform:translateY(10px);
      animation: logoIn 1.8s ease forwards;
      animation-delay: 0.4s;
      filter: drop-shadow(0 18px 40px rgba(0,0,0,0.35));
    }
    /* fade logo away after it appears */
    .intro.hide{
      opacity:0;
      transition: opacity 900ms ease;
    }

    @keyframes logoIn{
      to{ opacity:1; transform:translateY(0); }
    }

    /* ===== Burger menu (middle-left, always visible) ===== */
    .burger{
      position:fixed;
      top:50%;
      left:18px;
      transform:translateY(-50%);
      z-index:90;
      width:50px; height:50px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.18);
      background:rgba(0,0,0,0.20);
      backdrop-filter: blur(10px);
      display:grid; place-items:center;
      cursor:pointer;
    }
    .burger i{
      width:18px; height:1.6px;
      background:rgba(255,255,255,0.92);
      position:relative; display:block;
    }
    .burger i::before,.burger i::after{
      content:""; position:absolute; left:0;
      width:18px; height:1.6px;
      background:rgba(255,255,255,0.92);
    }
    .burger i::before{ top:-6px }
    .burger i::after{ top:6px }

    /* ===== Menu overlay ===== */
    .menu{
      position:fixed; inset:0;
      z-index:95;
      background:rgba(0,0,0,0.55);
      backdrop-filter: blur(12px);
      display:none;
    }
    .menu.open{ display:block; }
    .menu-panel{
      position:absolute; top:0; left:0;
      width:min(420px, 88vw);
      height:100%;
      background:rgba(255,255,255,0.94);
      padding:22px;
      border-right:1px solid rgba(0,0,0,0.10);
    }
    .menu-top{
      display:flex; align-items:center; justify-content:space-between;
      margin-bottom:22px;
      letter-spacing:3px;
      font-size:12px;
      text-transform:uppercase;
      color:#111;
    }
    .close{
      width:46px; height:46px;
      border-radius:999px;
      border:1px solid rgba(0,0,0,0.18);
      background:rgba(255,255,255,0.9);
      cursor:pointer;
      font-size:18px;
      line-height:46px;
    }
    .menu a{
      display:block;
      padding:14px 6px;
      text-decoration:none;
      color:#111;
      letter-spacing:1px;
      font-size:14px;
      border-bottom:1px solid rgba(0,0,0,0.08);
    }
    .menu a:hover{ opacity:0.7 }

    /* ===== Auberry scroll stage ===== */
    .scroll-stage{
      position:relative;
      z-index:10;
      height:500vh; /* 5 slides */
    }
    .sticky{
      position:sticky;
      top:0;
      height:100vh;
      overflow:hidden;
    }

    /* Panels overlay (HIDDEN until you scroll) */
    .overlay{
      position:absolute;
      inset:0;
      opacity:0;
      pointer-events:none;
      transition: opacity 600ms ease;
    }
    body.reveal .overlay{
      opacity:1;
      pointer-events:auto;
    }

    .track{
      height:100vh;
      display:flex;
      width:500vw;
      will-change:transform;
      transform:translate3d(0,0,0);
    }

    /* Slide layout: white text panel + image */
    .slide{
      width:100vw;
      height:100vh;
      display:grid;
      grid-template-columns: 22vw 78vw;
      min-width:100vw;
      align-items:stretch;
    }
    .left{
      background:rgba(255,255,255,0.92);
      padding:60px 34px 28px 34px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
    }
    .kicker{
      font-size:12px;
      letter-spacing:2px;
      text-transform:uppercase;
      color:#111;
      opacity:0.8;
    }
    .title{
      font-size:18px;
      letter-spacing:0.5px;
      color:#111;
      margin-top:10px;
      line-height:1.2;
    }
    .bodycopy{
      margin-top:18px;
      font-size:13px;
      line-height:1.7;
      color:#111;
      opacity:0.78;
      max-width:280px;
    }
    .rule{
      height:1px;
      width:100%;
      background:rgba(0,0,0,0.10);
      margin-top:22px;
    }
    .small{
      font-size:11px;
      letter-spacing:2px;
      text-transform:uppercase;
      color:#111;
      opacity:0.65;
    }
    .right{ position:relative; overflow:hidden; }
    .img{
      position:absolute; inset:0;
      background-size:cover;
      background-position:center;
      filter:saturate(1.02) contrast(1.02);
    }

    @media (max-width: 860px){
      .slide{ grid-template-columns: 1fr; grid-template-rows: 38vh 62vh; }
      .left{ padding:18px 18px 14px 18px; }
      .bodycopy{ max-width:100%; }
    }
  </style>
</head>

<body>

  <!-- Background Video -->
  <div class="bg">
    <video id="bgVideo" autoplay muted loop playsinline preload="auto">
      <source src="./bg.mp4" type="video/mp4">
    </video>
  </div>

  <!-- Intro Logo -->
  <div class="intro" id="intro">
    <img src="./logo.png" alt="RR Asset Management Logo">
  </div>

  <!-- Burger -->
  <button class="burger" id="burger" aria-label="Open menu"><i></i></button>

  <!-- Menu -->
  <div class="menu" id="menu">
    <div class="menu-panel">
      <div class="menu-top">
        <div>Menu</div>
        <button class="close" id="closeMenu" aria-label="Close">âœ•</button>
      </div>
      <a href="#" data-goto="0">Home</a>
      <a href="#" data-goto="1">About</a>
      <a href="#" data-goto="2">Strategy</a>
      <a href="#" data-goto="3">Approach</a>
      <a href="#" data-goto="4">Contact</a>
    </div>
  </div>

  <!-- Scroll Stage (overlay hidden until scroll) -->
  <section class="scroll-stage" id="stage">
    <div class="sticky">
      <div class="overlay" id="overlay">
        <div class="track" id="track">

          <div class="slide">
            <div class="left">
              
              <div class="small">01 / 05</div>
            </div>
            <div class="right"><div class="img" style="background-image:url('1.jpg')"></div></div>
          </div>

          <div class="slide">
            <div class="left">
              <div>
                <div class="kicker">Our Edge</div>
                <div class="title">Global Reach</div>
                <div class="bodycopy">Opportunities identified through research, conviction, and a repeatable process.</div>
                <div class="rule"></div>
              </div>
              <div class="small">02 / 05</div>
            </div>
            <div class="right"><div class="img" style="background-image:url('2.jpg')"></div></div>
          </div>

          <div class="slide">
            <div class="left">
              <div>
                <div class="kicker">Portfolio</div>
                <div class="title">Risk Managed</div>
                <div class="bodycopy">Structured portfolios balancing growth, preservation, and liquidity needs.</div>
                <div class="rule"></div>
              </div>
              <div class="small">03 / 05</div>
            </div>
            <div class="right"><div class="img" style="background-image:url('3.jpg')"></div></div>
          </div>

          <div class="slide">
            <div class="left">
              <div>
                <div class="kicker">Execution</div>
                <div class="title">Institutional Approach</div>
                <div class="bodycopy">Professional execution supported by transparent governance and reporting.</div>
                <div class="rule"></div>
              </div>
              <div class="small">04 / 05</div>
            </div>
            <div class="right"><div class="img" style="background-image:url('4.jpg')"></div></div>
          </div>

          <div class="slide">
            <div class="left">
              <div>
                <div class="kicker">Contact</div>
                <div class="title">Partner With Us</div>
                <div class="bodycopy">Building lasting relationships through performance, clarity, and trust.</div>
                <div class="rule"></div>
              </div>
              <div class="small">05 / 05</div>
            </div>
            <div class="right"><div class="img" style="background-image:url('5.jpg')"></div></div>
          </div>

        </div>
      </div>
    </div>
  </section>

  <script>
    // Autoplay nudge
    window.addEventListener("load", () => {
      const v = document.getElementById("bgVideo");
      if (!v) return;
      v.muted = true;
      const p = v.play();
      if (p && typeof p.then === "function") p.catch(()=>{});
    });

    const intro = document.getElementById("intro");
    const stage = document.getElementById("stage");
    const track = document.getElementById("track");
    const slides = 5;

    // Hide intro after it fades in (logo stays a moment)
    setTimeout(()=> intro.classList.add("hide"), 2600);

    function clamp(n,a,b){ return Math.max(a, Math.min(b, n)); }

    // Reveal panels ONLY when user starts scrolling
    let revealed = false;
    function revealPanels(){
      if (revealed) return;
      revealed = true;
      document.body.classList.add("reveal");
    }

    function onScroll(){
      const rect = stage.getBoundingClientRect();
      const stageTop = window.scrollY + rect.top;
      const stageHeight = stage.offsetHeight;
      const view = window.innerHeight;

      const y = window.scrollY - stageTop;
      const max = stageHeight - view;
      const t = max > 0 ? clamp(y / max, 0, 1) : 0;

      const x = -t * (slides - 1) * window.innerWidth;
      track.style.transform = `translate3d(${x}px,0,0)`;
    }

    window.addEventListener("scroll", () => {
      if (window.scrollY > 5) revealPanels();
      onScroll();
    }, { passive:true });

    // Also reveal on wheel/touch immediately
    window.addEventListener("wheel", () => revealPanels(), { passive:true });
    window.addEventListener("touchstart", () => revealPanels(), { passive:true });

    window.addEventListener("resize", onScroll);
    onScroll();

    // Burger menu
    const menu = document.getElementById("menu");
    document.getElementById("burger").addEventListener("click", ()=> menu.classList.add("open"));
    document.getElementById("closeMenu").addEventListener("click", ()=> menu.classList.remove("open"));
    menu.addEventListener("click", (e)=>{ if(e.target === menu) menu.classList.remove("open"); });

    // Menu jump to slide
    document.querySelectorAll("[data-goto]").forEach(link=>{
      link.addEventListener("click",(e)=>{
        e.preventDefault();
        const idx = parseInt(link.getAttribute("data-goto"), 10);
        menu.classList.remove("open");

        // Reveal if not already
        revealPanels();

        // Scroll to correct progress inside stage
        const rect = stage.getBoundingClientRect();
        const stageTop = window.scrollY + rect.top;
        const stageHeight = stage.offsetHeight;
        const view = window.innerHeight;
        const max = stageHeight - view;

        const t = clamp(idx / (slides - 1), 0, 1);
        window.scrollTo({ top: stageTop + t * max, behavior: "smooth" });
      });
    });
  </script>
</body>
</html>
